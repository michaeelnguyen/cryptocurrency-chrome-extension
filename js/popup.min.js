function filter(){var e,t,a,n;for(e=document.getElementById("search").value.toUpperCase(),t=document.getElementById("currency_table").getElementsByTagName("tr"),n=0;n<t.length;n++)(a=t[n].getElementsByTagName("td")[1])&&(a.innerHTML.toUpperCase().indexOf(e)>-1?t[n].style.display="":t[n].style.display="none")}function sendDataReq(){$.getJSON("https://api.coinmarketcap.com/v1/ticker/?limit=50",function(e){fillTable(e)})}function fillTable(e){for(var t in e)if(e.hasOwnProperty(t)){var a="",n=e[t].price_usd,r=parseFloat(e[t].percent_change_1h).toFixed(2),d=parseFloat(e[t].percent_change_24h).toFixed(2),o=e[t].price_usd.split(".");if(o[0].length>=1&&"0"!=o[0]){var l=(n=parseFloat(parseFloat(e[t].price_usd).toFixed(2)).toLocaleString("en")).split(".");l[1]&&1==l[1].length&&(n+="0")}a+="<tr>",a+="<td>"+(parseInt(t)+1)+"</td>",a+="<td>"+e[t].name+" ("+e[t].symbol+")</td>",a+="<td>$"+n+"</td>",parseFloat(r)>0?a+='<td id="green">'+r+"%</td>":a+='<td id="red">'+r+"%</td>",parseFloat(d)>0?a+='<td id="green">'+d+"%</td>":a+='<td id="red">'+d+"%</td>",a+="</tr>",$("#table_body").append(a)}}sendDataReq();var el=document.getElementById("search");el&&addEventListener("keyup",filter),chrome.alarms.create("updateInfo",{periodInMinutes:5}),chrome.alarms.onAlarm.addListener(function(e){"updateInfo"===e.name&&($("#table_body tr").remove(),sendDataReq(),chrome.alarms.clear("updateInfo"))}),function(e,t,a,n,r,d,o){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,d=t.createElement(a),o=t.getElementsByTagName(a)[0],d.async=1,d.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(d,o)}(window,document,"script",0,"ga"),ga("create","UA-112302940-1","auto"),ga("send","pageview","/popup.html");